/**
 * Core indexing strategies.
 */
module lib/index-library-core

rules
  
  index-setup(|language, project-paths, current-file) =
    prim("LANG_index_setup", language, project-paths, current-file)

  index-add-all(|file) =
    list-loop(with(prim("LANG_index_add", <id>, file)))
    
  index-clear-file = 
    prim("LANG_index_clear_file", <id>)
  
  indexlib-get-all:
    template -> <prim("LANG_index_get", template)>
  
  index-get-current-file =
    prim("LANG_index_get_current_file")